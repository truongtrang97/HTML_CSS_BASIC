(self.wpJsonpPcmallFlashsale=self.wpJsonpPcmallFlashsale||[]).push([[475],{4184:function(t,i,e){"use strict";e.d(i,{ZP:function(){return d}});var s=e(3804),r=e(8997),n=e.n(r),o=e(2334),a=e(9625);function h(){return(h=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t}).apply(this,arguments)}function u(t){var i=t.direction,e=t.showArrowOnHover,r=t.isShown,u=t.handleClick,l=t.showArrowHint,c=t.isVisible,p=t.padding,d=t.IconArrow,m=t.style,f=e&&l&&!r;return p=p||"0px",s.createElement("div",{className:n()("carousel-arrow carousel-arrow--"+(i<0?"prev":"next"),!!f&&"carousel-arrow--hint",!c&&"carousel-arrow--hidden"),role:"button",tabIndex:0,style:h({opacity:!e||r||f?"1":"0",visibility:c?"visible":"hidden",transform:"translateX(calc("+(i<0?"-50% + "+p:"50% - "+p)+"))"},m),onClick:u},d?s.createElement(d,null):i<0?s.createElement(o.Z,null):s.createElement(a.Z,null))}var l=e(4730);function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,i){return(p=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}var d=function(t){var i,e;function r(i){var e;return(e=t.call(this,i)||this)._swipeStartX=0,e._swipeStartY=0,e._swipeVx=0,e._swipeLastX=0,e._swipeStarted=!1,e._swipeMoved=!1,e.isSwiping=!1,e.state={position:0,isSliding:!1,isShowArrows:!1},e.hideArrows=e.hideArrows.bind(c(e)),e.showArrows=e.showArrows.bind(c(e)),e.finishSliding=e.finishSliding.bind(c(e)),e.handleNextArrowClick=e.handleNextArrowClick.bind(c(e)),e.handlePrevArrowClick=e.handlePrevArrowClick.bind(c(e)),e.touchStart=e.touchStart.bind(c(e)),e.touchEnd=e.touchEnd.bind(c(e)),e.touchMove=e.touchMove.bind(c(e)),e.getFirstItemWidth=e.getFirstItemWidth.bind(c(e)),e._carouselContainer=s.createRef(),e._carouselList=s.createRef(),e._carouselItems=[],e._firstItemWidth=null,e._carouselContainerWidth=null,e._finishSlidingTimeout=null,e}e=t,(i=r).prototype=Object.create(e.prototype),i.prototype.constructor=i,p(i,e);var o=r.prototype;return o.componentWillUnmount=function(){this._carouselItems=[]},o.componentDidMount=function(){var t=this,i=this.props,e=i.numItemsPerRow,s=i.focusIndex,r=this.props.items?this.props.items.length:0;if("number"==typeof s){var n=Math.floor(s/e)*e,o=Math.min(n,Math.max(r-Math.floor(e),0));this.setState({position:o},(function(){var i=t._carouselList;i.current&&(i.current.style.transform=t.getCurrentCarouselTransform(o))}))}},o.componentDidUpdate=function(t){var i=this;if(t.numItemsPerRow!==this.props.numItemsPerRow){this._finishSlidingTimeout&&clearTimeout(this._finishSlidingTimeout),this.setState({isSliding:!0});var e=this._carouselList,s=this.state.position,r=Math.max(0,Math.min(s,this.props.items.length-this.props.numItemsPerRow));e.current&&(e.current.style.transition="0ms",e.current.style.transform=this.getCurrentCarouselTransform(r)),this._finishSlidingTimeout=setTimeout((function(){i.finishSliding(r)}),0)}},o.renderDisplayedItems=function(){var t=this,i=this.props,e=i.items,r=i.isFluid,o=i.padding,a=i.distributeCardWidthWhenFewerItems,h=i.numItemsPerRow,u=e.length,l=a&&u<h?100/u:100/h;return e.map((function(i,e){return s.createElement("li",{key:e,className:n()("image-carousel__item",r&&"image-carousel__item--fluid"),style:{padding:"0 "+o,width:r?void 0:l+"%"},ref:function(i){t._carouselItems[e]=i}},i)}))},o.render=function(){var t,i=this.props,e=i.items,r=i.numItemsPerRow,o=i.showArrowOnHover,a=i.showArrowHint,h=i.isFluid,l=i.distributeCardWidthWhenFewerItems,c=i.itemPadding,p=i.className,d=i.IconArrowLeft,m=i.IconArrowRight,f=i.arrowStyle,w=this.state,g=w.isShowArrows,v=w.position,_=e.length,S=_>r?(l&&_<r?100/_:100/r)*_:100,b=this._carouselItems&&this._carouselItems[this.state.position]?(null===(t=this._carouselItems[this.state.position])||void 0===t?void 0:t.getBoundingClientRect().width)+"px":null;return s.createElement("div",{className:n()("image-carousel",p),onMouseEnter:this.showArrows,onMouseLeave:this.hideArrows,style:h?{width:b,transition:this.props.transitionTime+"ms"}:void 0},s.createElement("div",{className:n()("image-carousel__item-list-wrapper"),onTouchEnd:this.touchEnd,onTouchStart:this.touchStart,onTouchMove:this.touchMove,ref:this._carouselContainer},s.createElement("ul",{className:"image-carousel__item-list",style:{width:h?void 0:S+"%",transform:this.getCurrentCarouselTransform(v)},ref:this._carouselList},this.renderDisplayedItems())),s.createElement(u,{direction:-1,showArrowOnHover:o,isVisible:_>r&&v>0,isShown:g,handleClick:this.handlePrevArrowClick,showArrowHint:a,padding:c,IconArrow:d,style:f}),s.createElement(u,{direction:1,showArrowOnHover:o,isVisible:_>r&&v+r<_,isShown:g,handleClick:this.handleNextArrowClick,showArrowHint:a,padding:c,IconArrow:m,style:f}))},o.getCurrentCarouselTransform=function(t){var i=this._carouselItems,e=0;return this.props.isFluid&&i?"translate("+-(e=i.map((function(i,e){return i&&e<t?i.getBoundingClientRect().width:0})).reduce((function(t,i){return t+i}),0))+"px, 0px)":(e=this.getCarouselContainerWidth()/this.props.numItemsPerRow,"translate("+-t*e+"px, 0px)")},o.animateCarousel=function(t,i,e){void 0===e&&(e=100);var s=this._carouselList;if(s.current){var r=-1*t*this.getFirstItemWidth();s.current.style.transition=e+"ms",s.current.style.transform="translate("+(r+i)+"px, 0px)"}},o.touchMove=function(t){if(this._swipeStarted){var i=t.changedTouches[0].pageX,e=t.changedTouches[0].pageY,s=i-this._swipeStartX;if(t.stopPropagation(),0===this.state.position&&(s=Math.min(s,0)),this.state.position>=this.props.items.length-Math.floor(this.props.numItemsPerRow)&&(s=Math.max(s,0)),!this._swipeMoved){var r=e-this._swipeStartY;this.isSwiping=Math.abs(s)>Math.abs(r)&&Math.abs(s)>3,(this.isSwiping||Math.abs(r)>3)&&(this._swipeMoved=!0,this._swipeStartX=i,s=i-this._swipeStartX)}this.isSwiping&&(this.animateCarousel(this.state.position,s),this._swipeVx=.5*this._swipeVx+.5*(i-this._swipeLastX),this._swipeLastX=i)}},o.touchStart=function(t){t.stopPropagation(),this._swipeStartX=t.changedTouches[0].pageX,this._swipeStartY=t.changedTouches[0].pageY,this._swipeStarted=!0,this._swipeVx=0,this._swipeLastX=this._swipeStartX,this._swipeMoved=!1},o.touchEnd=function(t){if(this._swipeStarted&&this.isSwiping){this._swipeStarted=!1,this._swipeMoved=!1,this.isSwiping=!1,t.stopPropagation();var i=t.changedTouches[0].pageX-this._swipeStartX,e=this.state.position;Math.abs(this._swipeVx)>5?this._swipeVx>0?e-=1:e+=1:i>.5*this.getCarouselContainerWidth()?e-=1:i<.5*-this.getCarouselContainerWidth()&&(e+=1),this.animateCarousel(e,0,100),e>this.state.position&&this.handleNextArrowClick(),e<this.state.position&&this.handlePrevArrowClick()}},o.getFirstItemWidth=function(){return null!==this._firstItemWidth?this._firstItemWidth:this._carouselList.current&&this._carouselList.current.firstElementChild?(this._firstItemWidth=this._carouselList.current.firstElementChild.getBoundingClientRect().width,this._firstItemWidth):0},o.getCarouselContainerWidth=function(){return null==this._carouselContainerWidth&&this._carouselContainer&&this._carouselContainer.current?this._carouselContainer.current.getBoundingClientRect().width:0},o.handlePrevArrowClick=function(){var t=this.state.position,i=0;this.props.keepPreviousItemOnSlide&&(i=1);var e=this.props.slidesByOne?Math.max(t-1,0):Math.max(t-Math.ceil(this.props.numItemsPerRow)+i,0);this.slideTo(e)},o.handleNextArrowClick=function(){var t=this.props,i=t.items,e=t.numItemsPerRow,s=t.slidesByOne,r=i.length-Math.floor(e),n=this.state.position,o=0;this.props.keepPreviousItemOnSlide&&(o=1);var a=s?Math.min(n+1,r):Math.min(n+Math.ceil(e)-o,r);this.slideTo(a)},o.slideTo=function(t){var i=this;if(!this.state.isSliding||this.props.isOverrideSliding){this._finishSlidingTimeout&&clearTimeout(this._finishSlidingTimeout);var e=this.props.transitionTime;this.setState({isSliding:!0});var s=this._carouselList;s.current&&(s.current.style.transition=e+"ms",s.current.style.transform=this.getCurrentCarouselTransform(t)),"function"==typeof this.props.onSlide&&this.props.onSlide(t),this.props.isOverrideSliding&&this.setState({position:t}),this._finishSlidingTimeout=setTimeout((function(){i.finishSliding(t)}),e)}},o.finishSliding=function(t){this.setState({isSliding:!1,position:t}),this._finishSlidingTimeout&&clearTimeout(this._finishSlidingTimeout)},o.showArrows=function(){this.setState({isShowArrows:!0})},o.hideArrows=function(){this.setState({isShowArrows:!1})},r}(s.Component);d.defaultProps={transitionTime:500,padding:(0,l.Z)(10),keepPreviousItemOnSlide:!0,showArrowOnHover:!1,showArrowHint:!1,isFluid:!1,isOverrideSliding:!1,slidesByOne:!1}},4730:function(t,i,e){"use strict";e.d(i,{Z:function(){return s}});var s=function(t){return String(t/16)+"rem"}},2334:function(t,i,e){"use strict";e.d(i,{Z:function(){return a}});var s=e(9457),r=e(3804),n=e.n(r);function o(){return(o=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t}).apply(this,arguments)}var a=(0,s.Z)({Icon:function(t){return n().createElement("svg",o({enableBackground:"new 0 0 13 20",viewBox:"0 0 13 20",x:"0",y:"0"},t),n().createElement("polygon",{points:"4.2 10 12.1 2.1 10 -.1 1 8.9 -.1 10 1 11 10 20 12.1 17.9"}))},iconClassNames:["icon-arrow-left-bold"]})},9625:function(t,i,e){"use strict";e.d(i,{Z:function(){return a}});var s=e(9457),r=e(3804),n=e.n(r);function o(){return(o=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t}).apply(this,arguments)}var a=(0,s.Z)({Icon:function(t){return n().createElement("svg",o({enableBackground:"new 0 0 13 21",viewBox:"0 0 13 21",x:"0",y:"0"},t),n().createElement("polygon",{points:"11.1 9.9 2.1 .9 -.1 3.1 7.9 11 -.1 18.9 2.1 21 11.1 12 12.1 11"}))},iconClassNames:["icon-arrow-right-bold"]})},9021:function(t,i,e){"use strict";e.d(i,{V2:function(){return r}}),e(3804);var s,r,n=new function(){var t=this;this.subscribers=[],this.publish=function(i){return new Promise((function(e){"function"==typeof self.requestIdleCallback?self.requestIdleCallback((function(){t._notifySubscriber(i).then(e)})):t._notifySubscriber(i).then(e)}))},this.subscribe=function(i,e){return t.subscribers.push({selector:i,subscriber:e}),t._unsubscribe.bind(t,i,e)},this._notifySubscriber=function(i){var e=JSON.stringify(i)||"";return Promise.all(t.subscribers.map((function(t){if(t.selector(i))return t.subscriber(JSON.parse(e))})))},this._unsubscribe=function(i,e){var s=t.subscribers.findIndex((function(t){return t.selector===i&&t.subscriber===e}));t.subscribers.splice(s,1)}};n.publish,n.subscribe,function(t){t[t.PORTRAIT=768]="PORTRAIT",t[t.LANDSCAPE=1024]="LANDSCAPE",t[t.FULLWIDTH=1200]="FULLWIDTH"}(s||(s={})),function(t){t.Tiny="Tiny",t.Portrait="Portrait",t.Landscape="Landscape",t.Fullwidth="Fullwidth"}(r||(r={}))}}]);